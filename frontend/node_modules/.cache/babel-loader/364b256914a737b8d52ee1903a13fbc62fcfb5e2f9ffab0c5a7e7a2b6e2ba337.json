{"ast":null,"code":"import Axios from\"axios\";import{useState}from\"react\";import{useNavigate}from\"react-router\";import{useAuth}from\"./Auth\";import{Link}from\"react-router-dom\";import{GoogleOAuthProvider,GoogleLogin}from'@react-oauth/google';import{jwtDecode}from'jwt-decode';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";let Signin=()=>{let{id,updateid}=useAuth();let navigate=useNavigate();let[data,updatedata]=useState({email:\"\",password:\"\"});let updatehandler=event=>{updatedata({...data,[event.target.name]:event.target.value});};let signinhandler=()=>{Axios.post('http://localhost:8080/user/login',data).then(resp=>{if(resp.data.msg===1){alert(\"Login success\");updateid(true);localStorage.setItem(\"id\",\"true\");navigate('/home');}else if(resp.data.msg===0){alert(\"Wrong credentials\");}else{alert(\"Email not registered\");}}).catch();};const handleGoogleSuccess=response=>{const userObject=jwtDecode(response.credential);console.log('Google Login Success:',userObject);// Send the Google user details to your backend to register or login\nAxios.post('http://localhost:8080/user/google-login',{email:userObject.email,name:userObject.name,googleid:userObject.sub}).then(resp=>{alert('Login Success');updateid(true);localStorage.setItem(\"id\",\"true\");navigate('/home');}).catch(error=>{console.log('Google login error',error);alert('Google login failed');});};const handleGoogleFailure=error=>{console.log('Google Login Failure:',error);};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"container mt-5 ml-50\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-6\",children:[/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"lebel\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",onChange:updatehandler,name:\"email\",type:\"email\",required:true,placeholder:\"enter your mail...\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"lebel\",{children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",onChange:updatehandler,name:\"password\",required:true,type:\"password\",placeholder:\"enter your password...\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:signinhandler,className:\"btn btn-success mr-3 mb-2\",children:\"SignIn\"}),/*#__PURE__*/_jsxs(\"h5\",{className:\"mt-2\",children:[\"New user ? \",/*#__PURE__*/_jsx(Link,{to:\"/signup\",children:\"Signup\"})]})]}),/*#__PURE__*/_jsx(GoogleOAuthProvider,{clientId:\"422396320187-q9uf07o3o89bgqmj8mm3i35a8tlc9t8l.apps.googleusercontent.com\",children:/*#__PURE__*/_jsx(GoogleLogin,{onSuccess:handleGoogleSuccess,onFailure:handleGoogleFailure,buttonText:\"Sign up with Google\"})})]})})})});};export default Signin;","map":{"version":3,"names":["Axios","useState","useNavigate","useAuth","Link","GoogleOAuthProvider","GoogleLogin","jwtDecode","jsx","_jsx","jsxs","_jsxs","Signin","id","updateid","navigate","data","updatedata","email","password","updatehandler","event","target","name","value","signinhandler","post","then","resp","msg","alert","localStorage","setItem","catch","handleGoogleSuccess","response","userObject","credential","console","log","googleid","sub","error","handleGoogleFailure","children","className","onChange","type","required","placeholder","onClick","to","clientId","onSuccess","onFailure","buttonText"],"sources":["/Users/kunalkumbhakar/assesment/src/Components/Signin.jsx"],"sourcesContent":["import  Axios  from \"axios\"\nimport { useState } from \"react\"\nimport { useNavigate } from \"react-router\"\nimport { useAuth } from \"./Auth\"\nimport { Link } from \"react-router-dom\"\nimport { GoogleOAuthProvider, GoogleLogin } from '@react-oauth/google'\nimport {jwtDecode} from 'jwt-decode'\n\nlet Signin=()=>{\n    let{id,updateid}=useAuth()\n    let navigate=useNavigate()\n    let[data,updatedata]=useState({\n        email:\"\",\n        password:\"\"\n    })\n    let updatehandler=(event)=>{\n        updatedata({...data,[event.target.name]:event.target.value})\n    }\n    let signinhandler=()=>{\n        Axios.post('http://localhost:8080/user/login',data).then((resp)=>{\n            if(resp.data.msg===1)\n            {\n                alert(\"Login success\");\n                updateid(true)\n                localStorage.setItem(\"id\",\"true\")\n                navigate('/home')\n            }\n            else if(resp.data.msg===0)\n            {\n                alert(\"Wrong credentials\")\n            }\n            else\n            {\n                alert(\"Email not registered\")\n            }\n        }).catch()\n    }\n    const handleGoogleSuccess = (response) => {\n        const userObject = jwtDecode(response.credential)\n        console.log('Google Login Success:', userObject)\n\n        // Send the Google user details to your backend to register or login\n        Axios.post('http://localhost:8080/user/google-login', {\n            email: userObject.email,\n            name: userObject.name,\n            googleid: userObject.sub\n        }).then((resp) => {\n            alert('Login Success')\n            updateid(true)\n            localStorage.setItem(\"id\", \"true\")\n            navigate('/home')\n        }).catch((error) => {\n            console.log('Google login error', error)\n            alert('Google login failed')\n        })\n    }\n    const handleGoogleFailure = (error) => {\n        console.log('Google Login Failure:', error)\n    }\n    \n    return <div>\n        <div className=\"container mt-5 ml-50\">\n            <div className=\"row\">\n                <div className=\"col-6\">\n                <form>\n                    <div className=\"form-group\">\n                        <lebel>Email</lebel>\n                        <input className=\"form-control\"  onChange={updatehandler} name=\"email\" type=\"email\" required placeholder=\"enter your mail...\" ></input>\n                    </div>\n                    <div className=\"form-group\">\n                        <lebel>Password</lebel>\n                         <input className=\"form-control\"  onChange={updatehandler} name=\"password\" required type=\"password\" placeholder=\"enter your password...\" ></input>\n                    </div>\n                </form>\n                <div className=\"flex\">\n                <button onClick={signinhandler} className=\"btn btn-success mr-3 mb-2\">SignIn</button>\n                <h5 className=\"mt-2\">New user ? <Link to=\"/signup\">Signup</Link></h5>\n                </div>\n                <GoogleOAuthProvider clientId=\"422396320187-q9uf07o3o89bgqmj8mm3i35a8tlc9t8l.apps.googleusercontent.com\">\n                    <GoogleLogin\n                        onSuccess={handleGoogleSuccess}\n                        onFailure={handleGoogleFailure}\n                        buttonText=\"Sign up with Google\"\n                    />\n                </GoogleOAuthProvider>\n                </div>\n            </div>\n        </div>\n    </div>\n}\nexport default Signin"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}