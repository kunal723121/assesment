{"ast":null,"code":"import Axios from\"axios\";import{useState}from\"react\";import{useNavigate}from\"react-router\";import{useAuth}from\"./Auth\";import{Link}from\"react-router-dom\";import{GoogleOAuthProvider,GoogleLogin}from'@react-oauth/google';import{jwtDecode}from'jwt-decode';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";let Signup=()=>{let{id,updateid}=useAuth();let navigate=useNavigate();let[data,updatedata]=useState({name:\"\",email:\"\",password:\"\"});let updatehandler=event=>{updatedata({...data,[event.target.name]:event.target.value});};let signuphandler=()=>{Axios.post('http://localhost:8080/user/register',data).then(resp=>{alert(resp.data.msg);}).catch();};const handleGoogleSuccess=response=>{const userObject=jwtDecode(response.credential);console.log('Google Login Success:',userObject);// Send the Google user details to your backend to register or login\nAxios.post('http://localhost:8080/user/google-login',{email:userObject.email,name:userObject.name,googleid:userObject.sub}).then(resp=>{alert('Login Success');updateid(true);localStorage.setItem(\"id\",\"true\");navigate('/home');}).catch(error=>{console.log('Google login error',error);alert('Google login failed');});};const handleGoogleFailure=error=>{console.log('Google Login Failure:',error);};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"container mt-5 ml-50\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-6\",children:[/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"lebel\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",onChange:updatehandler,name:\"name\",type:\"text\",required:true,placeholder:\"enter your name...\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"lebel\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",onChange:updatehandler,name:\"email\",type:\"email\",required:true,placeholder:\"enter your mail...\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"lebel\",{children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",onChange:updatehandler,name:\"password\",required:true,type:\"password\",placeholder:\"enter your password...\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex mb-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:signuphandler,className:\"btn btn-primary mr-2\",children:\"SignUp\"}),/*#__PURE__*/_jsxs(\"h5\",{className:\"mt-2\",children:[\"Already have account ? \",/*#__PURE__*/_jsx(Link,{to:\"/signin\",children:\"Signin\"})]})]}),/*#__PURE__*/_jsx(GoogleOAuthProvider,{clientId:\"422396320187-q9uf07o3o89bgqmj8mm3i35a8tlc9t8l.apps.googleusercontent.com\",children:/*#__PURE__*/_jsx(GoogleLogin,{onSuccess:handleGoogleSuccess,onFailure:handleGoogleFailure,buttonText:\"Sign up with Google\"})})]})})})});};export default Signup;","map":{"version":3,"names":["Axios","useState","useNavigate","useAuth","Link","GoogleOAuthProvider","GoogleLogin","jwtDecode","jsx","_jsx","jsxs","_jsxs","Signup","id","updateid","navigate","data","updatedata","name","email","password","updatehandler","event","target","value","signuphandler","post","then","resp","alert","msg","catch","handleGoogleSuccess","response","userObject","credential","console","log","googleid","sub","localStorage","setItem","error","handleGoogleFailure","children","className","onChange","type","required","placeholder","onClick","to","clientId","onSuccess","onFailure","buttonText"],"sources":["/Users/kunalkumbhakar/assesment/src/Components/Signup.jsx"],"sourcesContent":["import  Axios  from \"axios\"\nimport { useState } from \"react\"\nimport { useNavigate } from \"react-router\"\nimport { useAuth } from \"./Auth\"\nimport { Link } from \"react-router-dom\";\nimport { GoogleOAuthProvider, GoogleLogin } from '@react-oauth/google'\nimport {jwtDecode} from 'jwt-decode'\n\nlet Signup=()=>{\n    let{id,updateid}=useAuth()\n    let navigate=useNavigate()\n    let[data,updatedata]=useState({\n        name:\"\",\n        email:\"\",\n        password:\"\"\n    })\n    let updatehandler=(event)=>{\n        updatedata({...data,[event.target.name]:event.target.value})\n    }\n    let signuphandler=()=>{\n        Axios.post('http://localhost:8080/user/register',data).then((resp)=>{\n            alert(resp.data.msg)\n        }).catch()\n    }\n    const handleGoogleSuccess = (response) => {\n        const userObject = jwtDecode(response.credential)\n        console.log('Google Login Success:', userObject)\n\n        // Send the Google user details to your backend to register or login\n        Axios.post('http://localhost:8080/user/google-login', {\n            email: userObject.email,\n            name: userObject.name,\n            googleid: userObject.sub\n        }).then((resp) => {\n            alert('Login Success')\n            updateid(true)\n            localStorage.setItem(\"id\", \"true\")\n            navigate('/home')\n        }).catch((error) => {\n            console.log('Google login error', error)\n            alert('Google login failed')\n        })\n    }\n\n    const handleGoogleFailure = (error) => {\n        console.log('Google Login Failure:', error)\n    }\n    return <div>\n        <div className=\"container mt-5 ml-50\">\n            <div className=\"row\">\n                <div className=\"col-6\">\n                <form>\n                   <div className=\"form-group\">\n                       <lebel>Name</lebel>\n                       <input className=\"form-control\" onChange={updatehandler} name=\"name\" type=\"text\" required placeholder=\"enter your name...\" ></input>\n                    </div>\n                    <div className=\"form-group\">\n                        <lebel>Email</lebel>\n                        <input className=\"form-control\"  onChange={updatehandler} name=\"email\" type=\"email\" required placeholder=\"enter your mail...\" ></input>\n                    </div>\n                    <div className=\"form-group\">\n                        <lebel>Password</lebel>\n                         <input className=\"form-control\"  onChange={updatehandler} name=\"password\" required type=\"password\" placeholder=\"enter your password...\" ></input>\n                    </div>\n                </form>\n                <div className=\"flex mb-2\">\n                <button onClick={signuphandler} className=\"btn btn-primary mr-2\">SignUp</button>\n                <h5 className=\"mt-2\">Already have account ? <Link to=\"/signin\">Signin</Link></h5>\n                </div>\n                    <GoogleOAuthProvider clientId=\"422396320187-q9uf07o3o89bgqmj8mm3i35a8tlc9t8l.apps.googleusercontent.com\">\n                        <GoogleLogin\n                            onSuccess={handleGoogleSuccess}\n                            onFailure={handleGoogleFailure}\n                            buttonText=\"Sign up with Google\"\n                        />\n                    </GoogleOAuthProvider>\n                </div>\n            </div>\n        </div>\n    </div>\n}\nexport default Signup"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}